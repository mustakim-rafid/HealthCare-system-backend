model User {
    id                 String   @id @default(uuid())
    email              String   @unique
    password           String
    role               Role     @default(PATIENT)
    status             Status   @default(ACTIVE)
    needChangePassword Boolean  @default(true)
    createdAt          DateTime @default(now())
    updatedAt          DateTime @updatedAt
    admin              Admin?
    patient            Paitent?
    doctor             Doctor?

    @@map("users")
}

model Admin {
    id            String   @id @default(uuid())
    email         String   @unique
    name          String
    contactNumber String?
    profilePhoto  String?
    isDeleted     Boolean  @default(false)
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt
    user          User     @relation(fields: [email], references: [email])

    @@map("admins")
}

model Paitent {
    id                String             @id @default(uuid())
    email             String             @unique
    name              String
    contactNumber     String?
    profilePhoto      String?
    address           String?
    isDeleted         Boolean            @default(false)
    createdAt         DateTime           @default(now())
    updatedAt         DateTime           @updatedAt
    user              User               @relation(fields: [email], references: [email])
    appointment       Appointment[]
    prescription      Prescription[]
    review            Review[]
    patientHealthData PatientHealthData?
    medicalReport     MedicalReport[]

    @@map("patients")
}

model Doctor {
    id                  String             @id @default(uuid())
    name                String
    email               String             @unique
    profilePhoto        String?
    contactNumber       String?
    address             String?
    registrationNumber  String
    experience          Int                @default(0)
    gender              Gender
    appointmentFee      Int
    qualification       String
    currentWorkingPlace String
    designation         String
    averageRating       Float              @default(0.0)
    isDeleted           Boolean            @default(false)
    createdAt           DateTime           @default(now())
    updatedAt           DateTime           @updatedAt
    doctorSchedule      DoctorSchedule[]
    doctorSpeciality    doctorSpeciality[]
    appointment         Appointment[]
    prescription        Prescription[]
    review              Review[]

    user User @relation(fields: [email], references: [email])

    @@map("doctors")
}
